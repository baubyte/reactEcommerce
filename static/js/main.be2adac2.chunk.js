(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{91:function(e,t,c){},95:function(e,t,c){"use strict";c.r(t);var a=c(3),r=c.n(a),s=c(45),n=c.n(s),i=c(104),o=r.a.createContext({}),l=o,d=c(21),j=c(70),b=c(102),u=c(26),m=c(33),O=r.a.createContext({}),x=O,h=c(1),g=function(){var e=Object(a.useContext)(O).qtyProducts;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(u.LinkContainer,{to:"/cart",children:Object(h.jsxs)(j.a,{variant:"outline-warning",size:"md",children:[Object(h.jsx)(m.e,{}),e>0&&Object(h.jsx)(b.a,{bg:"secondary",children:e})]})})})},p=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(l.Consumer,{children:function(e){var t,c;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("nav",{className:"navbar sticky-top navbar-expand-lg navbar-dark bg-dark",children:[Object(h.jsx)(d.NavLink,{className:"navbar-brand",to:"/",children:"E-commerce"}),Object(h.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(h.jsx)("span",{className:"navbar-toggler-icon"})}),Object(h.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02",children:[Object(h.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.NavLink,{className:"nav-link",to:"/",activeClassName:"active",children:"Home"})}),e.userIsLogin&&(null===(t=e.userInfo)||void 0===t?void 0:t.admin)&&Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.NavLink,{className:"nav-link",to:"/admin/products",activeClassName:"active",children:"Administrar Productos"})})]}),Object(h.jsxs)("ul",{className:"navbar-nav mr-right",children:[!e.userIsLogin&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.NavLink,{className:"nav-link",to:"/login",activeClassName:"active",children:"Iniciar Sesi\xf3n"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(d.NavLink,{className:"nav-link",to:"/register",activeClassName:"active",children:"Registrarme"})})]}),e.userIsLogin&&Object(h.jsxs)(i.a,{title:null===(c=e.userInfo)||void 0===c?void 0:c.nombre,variant:"dark",children:[Object(h.jsx)(i.a.Item,{as:d.Link,to:"/orders",children:"Mis Pedidos"}),Object(h.jsx)(i.a.Item,{as:d.Link,to:"/logout",children:"Cerrar Sesi\xf3n"})]})]}),Object(h.jsx)(g,{})]})]})})}})})},v=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("footer",{className:"container fixed-bottom",children:[Object(h.jsx)("p",{className:"float-right",children:Object(h.jsx)("a",{className:"text-success",href:"#top",children:"Subir"})}),Object(h.jsx)("p",{className:"text-success",children:"Pared Baez Mart\xedn Jos\xe9"})]})})},f=c(0),N=c.n(f),k=c(2),y=c(13),w=function(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e)},C=function(e){return new Intl.NumberFormat("es-AR",{maximumSignificantDigits:2}).format(e)},S=function(e){var t=e.producto;return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"col-md-4 d-flex align-items-stretch",children:Object(h.jsxs)("div",{className:"card mb-4 shadow-sm",children:[Object(h.jsx)("img",{className:"card-img-top",alt:"Thumbnail [100%x225]",style:{height:"225px",width:"225px",display:"block"},src:t.data().image}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h5",{className:"card-title",children:t.data().title}),Object(h.jsx)("div",{className:"d-flex justify-content-between align-items-center",children:Object(h.jsxs)("div",{className:"",children:["Precio: ",w(t.data().price)]})})]}),Object(h.jsx)("div",{className:"card-footer d-flex justify-content-between align-items-center",children:Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(d.Link,{className:"btn btn-sm btn-outline-info btn-block",to:"/product/detail/".concat(t.id),children:"Ver Detalle"})})})]})})})},I=c(42);c(97),c(89),c(96);I.a.initializeApp({apiKey:"AIzaSyDXMP4MZFpY4awTM_yxKGmM93bRlQ-M96c",authDomain:"reactutn-c3f90.firebaseapp.com",projectId:"reactutn-c3f90",storageBucket:"reactutn-c3f90.appspot.com",messagingSenderId:"550860714661",appId:"1:550860714661:web:0973ee92bf1e36445e134c",measurementId:"G-VV61Y8H3NB"}),I.a.dB=I.a.firestore(),I.a.auth=I.a.auth(),I.a.storage=I.a.storage();var P=I.a,L=c(31),E=function(e){return e.active?Object(h.jsxs)("div",{className:"col-md-8 mx-auto",children:[Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"}),Object(h.jsx)(L.a,{animation:"grow"})]}):Object(h.jsx)(h.Fragment,{children:e.children})},q=function(){var e=Object(a.useState)(!0),t=Object(y.a)(e,2),c=t[0],r=t[1],s=Object(a.useState)([]),n=Object(y.a)(s,2),i=n[0],o=n[1];return Object(a.useEffect)((function(){function e(){return(e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.collection("productos").get();case 3:(t=e.sent).docs&&(o(t.docs),r(!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"album py-5 bg-light",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"card-deck",children:Object(h.jsx)(E,{active:c,children:i.map((function(e){return Object(h.jsx)(S,{producto:e},e.id)}))})})})})})},D=c(14),F=c(103),z=function(e){var t=e.producto,c=e.idProducto,r=e.alert,s=e.setAlert,n=Object(a.useContext)(O),i=n.addProductToCart,o=n.isInCart,l=n.updateQtyProducts,d=0===t.stock?"No Tenemos Stock":1,b=Object(a.useState)(d),u=Object(y.a)(b,2),x=u[0],g=u[1],p=Object(a.useState)(),v=Object(y.a)(p,2),f=v[0],N=v[1],k=Object(a.useState)(),w=Object(y.a)(k,2),C=w[0],S=w[1],I=Object(a.useCallback)((function(){return o(c)}),[o,c]),P=Object(a.useCallback)((function(){var e=I();(null===e||void 0===e?void 0:e.quantity)+x===Number(t.stock)?S(!0):S(!1)}),[x,I,t.stock]);return Object(a.useEffect)((function(){N(I),P()}),[I,P,f]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)(F.a,{size:"lg",children:[Object(h.jsxs)(j.a,{onClick:function(){g(x-1)},disabled:x<=d,variant:"danger",children:[Object(h.jsx)(m.c,{})," "]}),Object(h.jsx)("input",{style:{textAlign:"center"},onChange:I,className:"form-control input-lg",value:void 0!==f&&(null===f||void 0===f?void 0:f.quantity)===t.stock?"No Tenemos m\xe1s Stock":x,readOnly:!0}),Object(h.jsx)(j.a,{onClick:function(){g(x+1)},disabled:x>=t.stock||0===t.stock||void 0!==f&&(null===f||void 0===f?void 0:f.quantity)===t.stock||C,variant:"success",children:Object(h.jsx)(m.d,{})})]})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsxs)(j.a,{onClick:function(){i({sku:t.sku,title:t.title,quantity:x,price:t.price,image:t.image,id:c,category:t.category}),g(d),l(),s(Object(D.a)(Object(D.a)({},r),{},{message:"Agregamos el Producto a Tu Carrito.",show:!0}))},className:"btn-block",variant:"success",size:"lg",disabled:0===t.stock||void 0!==f&&(null===f||void 0===f?void 0:f.quantity)===t.stock,children:[void 0!==f?"Te Agregamos ".concat(x," m\xe1s "):" Te Agregamos al Carrito",Object(h.jsx)(m.a,{})]})})]})})},T=(c(91),c(105)),B=function(e){var t=e.alert,c=Object(a.useState)(!1),r=Object(y.a)(c,2),s=r[0],n=r[1];return Object(a.useEffect)((function(){n(t.show)}),[t]),Object(h.jsx)(h.Fragment,{children:s?Object(h.jsxs)(T.a,{variant:t.variant,onClose:function(){return n(!1)},dismissible:!0,children:[Object(h.jsxs)(T.a.Heading,{children:["\xa1",t.heading,"!"]}),Object(h.jsxs)("p",{children:[t.message,t.link&&Object(h.jsx)(u.LinkContainer,{to:t.linkTo,children:Object(h.jsx)(T.a.Link,{children:t.linkText})})]})]}):null})},M=function(e){var t=e.producto,c=Object(a.useState)({show:!1,message:"",variant:"success",heading:"Exito"}),r=Object(y.a)(c,2),s=r[0],n=r[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"col-12 mt-3",children:[Object(h.jsx)(B,{alert:s}),Object(h.jsxs)("div",{className:"card",children:[Object(h.jsxs)("div",{className:"card-horizontal",children:[Object(h.jsx)("div",{className:"img-square-wrapper",children:Object(h.jsx)("img",{src:t.data().image,alt:"imagen producto",style:{height:"300px",width:"300px",display:"block"}})}),Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsx)("h4",{className:"card-title",children:t.data().title}),Object(h.jsxs)("p",{className:"card-text text-capitalize font-weight-bold",children:["SKU: ",t.data().sku]}),Object(h.jsxs)("p",{className:"card-text font-weight-bold",children:["Detalle: ",t.data().description]}),Object(h.jsxs)("p",{className:"card-text text-capitalize font-weight-bold",children:["Categoria: ",t.data().category]}),Object(h.jsxs)("p",{className:"card-text text-capitalize font-weight-bold",children:["Precio: ",w(t.data().price)]}),Object(h.jsxs)("p",{className:"card-text text-capitalize font-weight-bold",children:["Stock: ",C(t.data().stock)]})]})]}),Object(h.jsx)("div",{className:"card-footer",children:Object(h.jsx)(z,{setAlert:n,alert:s,producto:t.data(),idProducto:t.id})})]})]})})},A=c(24),U=function(){var e=Object(A.m)().id,t=Object(a.useState)(!0),c=Object(y.a)(t,2),r=c[0],s=c[1],n=Object(a.useState)([]),i=Object(y.a)(n,2),o=i[0],l=i[1],d=Object(a.useState)(!1),j=Object(y.a)(d,2),b=j[0],u=j[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(k.a)(N.a.mark((function t(){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.dB.doc("productos/"+e).get();case 3:(c=t.sent).data()?(l(c),s(!1)):u(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();t()}),[e]),b?Object(h.jsx)(A.c,{to:"/notfound/product"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"container py-5",children:Object(h.jsx)("div",{className:"row",children:Object(h.jsx)(E,{active:r,children:Object(h.jsx)(M,{producto:o},o.id)})})})})},R=c(40),V=function(e){var t=e.label,c=e.type,a=e.register,r=e.placeholder,s=e.select,n=e.options,i=e.errors||!1;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"form-group",children:[t&&Object(h.jsxs)("label",{htmlFor:t,children:[t,": ",Object(h.jsx)("sup",{children:"*"})]}),s?Object(h.jsx)("select",Object(D.a)(Object(D.a)({},a),{},{className:"form-control",children:n.map((function(e,t){return Object(h.jsx)("option",{value:e.value,children:e.text},t)}))})):Object(h.jsx)("input",Object(D.a)(Object(D.a)({type:c||"text"},a),{},{className:i[a.name]?"form-control is-invalid":"form-control",placeholder:r||""})),i[a.name]&&Object(h.jsx)("span",{className:"invalid-feedback",children:i[a.name].message})]})})},G={button:{fontSize:"20px"}},J=function(e){var t=e.variant,c=e.type,a=e.loading,r=e.size,s=e.handleClick;return Object(h.jsxs)(j.a,{className:"btn-block",type:c||"submit",variant:t||"primary",size:r||"",disabled:a,style:G.button,onClick:a||"submit"===c?null:s,children:[a&&Object(h.jsx)(L.a,{animation:"border",size:"md"}),e.children]})},K=function(){var e=Object(R.a)(),t=e.register,c=e.handleSubmit,r=e.setError,s=e.formState.errors,n=e.getValues,i=e.reset,o={show:!1,message:"",variant:"success",heading:"Exito"},d=Object(a.useState)(o),b=Object(y.a)(d,2),m=b[0],O=b[1],x=Object(a.useState)(!1),g=Object(y.a)(x,2),p=g[0],v=g[1],f=Object(a.useContext)(l),w=function(){var e=Object(k.a)(N.a.mark((function e(t){var c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(o),v(!0),e.prev=2,e.next=5,P.auth.createUserWithEmailAndPassword(t.email,t.password);case 5:if(!(c=e.sent).user.uid){e.next=14;break}return e.next=9,P.dB.collection("usuarios").add({nombre:t.nombre,apellido:t.apellido,userId:c.user.uid});case 9:a=e.sent,console.log("document",a),i({}),O(Object(D.a)(Object(D.a)({},m),{},{show:!0,message:"Te Registraste Correctamente."})),v(!1);case 14:e.next=28;break;case 16:e.prev=16,e.t0=e.catch(2),v(!1),e.t1=e.t0.code,e.next="auth/email-already-in-use"===e.t1?22:"auth/weak-password"===e.t1?24:26;break;case 22:return r("email",{message:"El Email ya se encuentra Registrado."},{shouldFocus:!0}),e.abrupt("break",28);case 24:return r("password",{message:"Por favor use una Contrase\xf1a m\xe1s Segura."},{shouldFocus:!0}),e.abrupt("break",28);case 26:return O({show:!0,message:"Surgio un un error al registrarte. Recargue la pagina e intente de nuevo.",variant:"danger",heading:"Ups"}),e.abrupt("break",28);case 28:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return f.userIsLogin?Object(h.jsx)(A.c,{to:"/"}):Object(h.jsx)("div",{className:"col-md-6 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)(B,{alert:m}),Object(h.jsx)("h3",{children:"Crear Cuenta"}),Object(h.jsx)("p",{children:"Ingrese sus Datos"}),Object(h.jsxs)("form",{onSubmit:c(w),children:[Object(h.jsx)(V,{label:"Nombre",register:Object(D.a)({},t("nombre",{required:"El Nombre es Obligatorio.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:s}),Object(h.jsx)(V,{label:"Apellido",register:Object(D.a)({},t("apellido",{required:"El Apellido es Obligatorio.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:s}),Object(h.jsx)(V,{label:"Email",type:"email",register:Object(D.a)({},t("email",{required:"El Email es Obligatorio.",pattern:{value:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/,message:"El Email no es Valido."}})),errors:s}),Object(h.jsx)(V,{label:"Contrase\xf1a",type:"password",register:Object(D.a)({},t("password",{required:"La Contrase\xf1a es Obligatoria.",minLength:{value:8,message:"Debe Ingresar al Menos 8 Caracteres."}})),errors:s}),Object(h.jsx)(V,{label:"Repetir Contrase\xf1a",type:"password",register:Object(D.a)({},t("passwordConfirm",{required:"Debe Repetir la Contrase\xf1a.",minLength:{value:8,message:"Debe Ingresar al Menos 8 Caracteres."},validate:{matchesPreviousPassword:function(e){return n().password===e||"Las Contrase\xf1a no Coinciden."}}})),errors:s}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(J,{loading:p,type:"submit",variant:"success",size:"lg",children:" Registrarme"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/login",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"light",size:"lg",children:" Iniciar Sesi\xf3n"})})})]})]})]})})},Q=function(){var e=Object(R.a)(),t=e.register,c=e.handleSubmit,r=e.setError,s=e.formState.errors,n={show:!1,message:"",variant:"success",heading:"Exito"},i=Object(a.useState)(n),o=Object(y.a)(i,2),d=o[0],b=o[1],m=Object(a.useState)(!1),O=Object(y.a)(m,2),x=O[0],g=O[1],p=Object(a.useContext)(l),v=function(){var e=Object(k.a)(N.a.mark((function e(t){var c,a,s,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(n),g(!0),e.prev=2,e.next=5,P.auth.signInWithEmailAndPassword(t.email,t.password);case 5:if(!(c=e.sent).user.uid){e.next=13;break}return e.next=9,P.dB.collection("usuarios").where("userId","==",c.user.uid).get();case 9:s=e.sent,g(!1),i=Object(D.a)({email:c.user.email},null===(a=s.docs[0])||void 0===a?void 0:a.data()),p.loginUser(i);case 13:e.next=29;break;case 15:e.prev=15,e.t0=e.catch(2),g(!1),e.t1=e.t0.code,e.next="auth/user-not-found"===e.t1?21:"auth/wrong-password"===e.t1?24:27;break;case 21:case 24:return r("email",{message:"El Email o Contrase\xf1a no son Correctos."},{shouldFocus:!0}),r("password",{message:""},{shouldFocus:!0}),e.abrupt("break",29);case 27:return b({show:!0,message:"Surgio un un error al registrarte. Recargue la pagina e intente de nuevo.",variant:"danger",heading:"Ups"}),e.abrupt("break",29);case 29:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}();return p.userIsLogin?Object(h.jsx)(A.c,{to:"/"}):Object(h.jsx)("div",{className:"col-md-6 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)(B,{alert:d}),Object(h.jsx)("h3",{children:"Iniciar Sesi\xf3n"}),Object(h.jsx)("p",{children:"Ingrese su Usuario y Contrase\xf1a"}),Object(h.jsxs)("form",{onSubmit:c(v),children:[Object(h.jsx)(V,{label:"Email",type:"email",register:Object(D.a)({},t("email",{required:"El Email es Obligatorio.",pattern:{value:/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,})+$/,message:"El Email no es Valido."}})),errors:s}),Object(h.jsx)(V,{label:"Contrase\xf1a",type:"password",register:Object(D.a)({},t("password",{required:"La Contrase\xf1a es Obligatoria.",minLength:{value:8,message:"Debe Ingresar al Menos 8 Caracteres."}})),errors:s}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(J,{loading:x,type:"submit",variant:"success",size:"lg",children:" Iniciar Sesi\xf3n"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/register",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"light",size:"lg",children:" Registrarme"})})})]})]})]})})},H=function(){var e=Object(a.useContext)(l);return Object(a.useEffect)((function(){e.logoutUser()})),Object(h.jsx)(A.c,{to:"/login"})},Y=function(e){var t=e.idProducto,c=e.producto,a=e.index,r=e.deleteProduct;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"row",children:a+1}),Object(h.jsx)("td",{children:c.title}),Object(h.jsx)("td",{children:c.quantity}),Object(h.jsx)("td",{children:w(c.price)}),Object(h.jsx)("td",{children:w(c.price*c.quantity)}),Object(h.jsx)("td",{children:Object(h.jsx)(j.a,{variant:"outline-danger",size:"sm",onClick:function(){return r(t)},children:Object(h.jsx)(m.f,{})})})]})},W=function(){var e=Object(a.useContext)(o).userIsLogin,t=Object(a.useContext)(O),c=t.cart,r=t.totalCartPay,s=t.deleteProduct;return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-8 col-xs-12 col-sm-12",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)("h3",{children:0===c.length?"Tu Carrito est\xe1 Vac\xedo":"Productos en Tu Carrito"}),Object(h.jsx)("div",{className:"col-md-12 table-responsive-sm",children:Object(h.jsxs)("table",{className:"table table-hover",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Producto"}),Object(h.jsx)("th",{scope:"col",children:"Cantidad"}),Object(h.jsx)("th",{scope:"col",children:"Precio Uni."}),Object(h.jsx)("th",{scope:"col",children:"Total"}),Object(h.jsx)("th",{scope:"col",children:"Quitar"})]})}),Object(h.jsx)("tbody",{children:c.map((function(e,t){return Object(h.jsx)(Y,{index:t,idProducto:e.id,producto:e,deleteProduct:s},e.id)}))})]})})]})}),c.length>0&&Object(h.jsx)("div",{className:"col-md-4 col-xs-8 col-sm-8",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)("h3",{children:"Finalizar Pedido"}),Object(h.jsxs)("p",{className:"font-weight-bold",children:["Total de Tu Pedido: ",w(r)]}),e?Object(h.jsx)(u.LinkContainer,{to:"/checkout",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"success",size:"lg",children:"Finalizar Pedido"})}):Object(h.jsx)(u.LinkContainer,{to:"/login",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"warning",size:"lg",children:"Debes Iniciar Sesi\xf3n"})})]})})]})},$=c(18),X=function(){var e=Object(a.useContext)(o),t=e.userIsLogin,c=e.userInfo,r=Object(a.useContext)(O),s=r.cart,n=r.setCart,i=r.totalCartPay,l=r.qtyProducts,d=r.orderIds,b=r.setOrderIds,m=r.cartInLocal,x=r.deleteProduct,g=Object(a.useState)([]),p=Object(y.a)(g,2),v=p[0],f=p[1],S=Object(a.useState)({show:!1,message:"",variant:"success",heading:"Exito"}),I=Object(y.a)(S,2),L=I[0],E=I[1],q=Object(a.useCallback)((function(e){return v.find((function(t){return t.id===e}))}),[v]),F=Object(a.useCallback)((function(){s.forEach((function(e){var t,c,a=null===(t=q(e.id))||void 0===t?void 0:t.id;(null===(c=q(e.id))||void 0===c?void 0:c.data().stock)<e.quantity&&(x(a),E({show:!0,message:"Sacamos algunos Productos de Tu Pedido ya que no Cantabamos con el Stock Suficiente.",variant:"danger",heading:"Ups"}))}))}),[s,q,x]);Object(a.useEffect)((function(){function e(){return(e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.collection("productos").get();case 3:(t=e.sent).docs&&f(t.docs),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(a.useEffect)((function(){F()}),[F]);var z=function(){var e=Object(k.a)(N.a.mark((function e(){var t,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.collection("productos");case 3:return t=e.sent,c=P.dB.batch(),e.prev=5,s.forEach(function(){var e=Object(k.a)(N.a.mark((function e(a){var r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.doc(a.id),e.next=3,c.update(r,"stock",P.firestore.FieldValue.increment(-a.quantity));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,c.commit();case 9:E(Object(D.a)(Object(D.a)({},L),{},{show:!0,message:"Ya recibimos tu Pedido en Breve nos pondremos en Contacto.",link:!0,linkTo:"/orders",linkText:"Ir a Mis Pedidos"})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),console.log(e.t0);case 15:e.next=20;break;case 17:e.prev=17,e.t1=e.catch(0),console.log(e.t1);case 20:case"end":return e.stop()}}),e,null,[[0,17],[5,12]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(k.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={cliente:{nombre:c.nombre,apellido:c.apellido,email:c.email},productos:s.map((function(e){return{id:e.id,title:e.title,price:e.price,quantity:e.quantity}})),date:P.firestore.Timestamp.fromDate(new Date),total:i},localStorage.removeItem("cart"),n(m),e.prev=3,e.next=6,P.dB.collection("pedidos").add(t);case 6:a=e.sent,b([].concat(Object($.a)(d),[{id:a.id}])),z(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}();return t?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"col-md-8 col-xs-8 col-sm-8 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)(B,{alert:L}),Object(h.jsx)("h3",{children:"Confirmar Pedido"}),Object(h.jsxs)("p",{className:"font-weight-bold",children:["Pedido a Nombre: ","".concat(c.apellido," ").concat(c.nombre)]}),Object(h.jsxs)("p",{className:"font-weight-bold",children:["Email de Contacto: ",c.email]}),Object(h.jsxs)("p",{className:"font-weight-bold",children:["Cantidad de Productos: ",C(l)]}),Object(h.jsxs)("p",{className:"font-weight-bold",children:["Total: ",w(i)]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(j.a,{disabled:0===s.length,onClick:T,className:"btn-block",variant:"success",size:"lg",children:" Confirmar"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/cart",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"danger",size:"lg",children:" Cancelar"})})})]})]})})}):Object(h.jsx)(A.c,{to:"/"})},Z=function(){var e=Object(a.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1],s=Object(a.useContext)(O),n=s.orderIds,i=s.setOrderIds;return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t,c,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n.map(function(){var e=Object(k.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.id,e.next=3,P.dB.collection("pedidos").doc(c).get();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=4,Promise.all(t);case 4:c=e.sent,a=c.map((function(e){return Object(D.a)({id:e.id},e.data())})),r(a.reverse()),console.log(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-4 col-xs-4 col-sm-4 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5 text-center",children:[Object(h.jsx)("h3",{className:"card-title",children:"Mis Pedidos"}),Object(h.jsxs)(j.a,{disabled:0===n.length,onClick:function(){localStorage.removeItem("cartOrders"),i([])},className:"btn-block",variant:"success",size:"lg",children:[" Limpiar Pedidos ",Object(h.jsx)(m.f,{})]})]})})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12 col-xs-12 col-sm-12",children:Object(h.jsx)("div",{className:"card card-body bg-light mt-5",children:Object(h.jsx)("div",{className:"col-md-12 table-responsive-sm",children:Object(h.jsxs)("table",{className:"table table-hover text-center",children:[Object(h.jsx)("thead",{className:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",className:"col-1",children:"#"}),Object(h.jsx)("th",{scope:"col",className:"col-2",children:"Cod. Referencia"}),Object(h.jsx)("th",{scope:"col",className:"col-2",children:"Fecha"}),Object(h.jsx)("th",{scope:"col",children:"Productos"}),Object(h.jsx)("th",{scope:"col",className:"col-2",children:"Total"})]})}),Object(h.jsx)("tbody",{children:c&&c.map((function(e,t){var c=e.id,a=e.total,r=e.date,s=e.productos;return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:c}),Object(h.jsx)("td",{children:r.toDate().toLocaleDateString("es-AR")}),Object(h.jsx)("td",{children:Object(h.jsx)("ul",{children:s&&s.map((function(e){return Object(h.jsxs)("li",{children:[" ",e.title," x ",e.quantity," "]},e.id)}))})}),Object(h.jsx)("td",{children:w(a)})]},c)}))})]})})})})})]})},_=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"page-wrap d-flex flex-row align-items-center",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsxs)("div",{className:"col-md-12 text-center",children:[Object(h.jsx)("span",{className:"display-1 d-block",children:"404"}),Object(h.jsx)("div",{className:"mb-4 lead",children:"La p\xe1gina que estas buscando no se encontr\xf3."}),Object(h.jsx)(d.Link,{className:"btn btn-link",to:"/",children:"Volver al Inicio"})]})})})})})},ee=function(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"page-wrap d-flex flex-row align-items-center",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsx)("div",{className:"row justify-content-center",children:Object(h.jsxs)("div",{className:"col-md-12 text-center",children:[Object(h.jsx)("span",{className:"display-1 d-block",children:"404"}),Object(h.jsx)("div",{className:"mb-4 lead",children:"No pudimos encontrar el Producto que buscabas."}),Object(h.jsx)(d.Link,{className:"btn btn-link",to:"/",children:"Volver a Productos"})]})})})})})},te=function(){return Object(h.jsxs)(A.g,{children:[Object(h.jsx)(A.d,{path:"/register",component:K}),Object(h.jsx)(A.d,{path:"/login",component:Q}),Object(h.jsx)(A.d,{path:"/logout",component:H}),Object(h.jsx)(A.d,{path:"/product/detail/:id",component:U}),Object(h.jsx)(A.d,{path:"/cart",component:W}),Object(h.jsx)(A.d,{path:"/checkout",component:X}),Object(h.jsx)(A.d,{path:"/orders",component:Z}),Object(h.jsx)(A.d,{path:"/notfound/product",component:ee}),Object(h.jsx)(A.c,{from:"/home",to:"/"}),Object(h.jsx)(A.d,{exact:!0,path:"/",component:q}),Object(h.jsx)(A.d,{path:"*",component:_})]})},ce=function(){var e=Object(a.useState)([]),t=Object(y.a)(e,2),c=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.collection("productos").get();case 3:(t=e.sent).docs&&r(t.docs),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-4 col-xs-4 col-sm-4 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5 text-center",children:[Object(h.jsx)("h3",{className:"card-title",children:"Productos"}),Object(h.jsxs)(d.Link,{to:"product/create",className:"btn btn-success",children:["Agregar Producto ",Object(h.jsx)(m.d,{})]})]})})}),Object(h.jsx)("div",{className:"row",children:Object(h.jsx)("div",{className:"col-md-12 col-xs-12 col-sm-12",children:Object(h.jsx)("div",{className:"card card-body bg-light mt-5",children:Object(h.jsx)("div",{className:"col-md-12 table-responsive-sm",children:Object(h.jsxs)("table",{className:"table table-hover",children:[Object(h.jsx)("thead",{className:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"#"}),Object(h.jsx)("th",{scope:"col",children:"Producto"}),Object(h.jsx)("th",{scope:"col",children:"SKU"}),Object(h.jsx)("th",{scope:"col",children:"Stock"}),Object(h.jsx)("th",{scope:"col",children:"Precio"}),Object(h.jsx)("th",{scope:"col",children:"Acciones"})]})}),Object(h.jsx)("tbody",{children:c&&c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t+1}),Object(h.jsx)("td",{children:e.data().title}),Object(h.jsx)("td",{children:e.data().sku}),Object(h.jsx)("td",{children:C(e.data().stock)}),Object(h.jsx)("td",{children:w(e.data().price)}),Object(h.jsx)("td",{children:Object(h.jsxs)("div",{className:"form-group text-center",children:[Object(h.jsx)(d.Link,{to:"/admin/product/edit/".concat(e.id),className:"btn btn-success btn-sm mr-1",children:Object(h.jsx)(m.b,{})}),Object(h.jsx)(d.Link,{to:"/admin/product/delete/".concat(e.id),className:"btn btn-danger btn-sm",children:Object(h.jsx)(m.f,{})})]})})]},e.id)}))})]})})})})})]})},ae=function(){var e=Object(R.a)(),t=e.register,c=e.handleSubmit,r=e.formState.errors,s=e.reset,n={show:!1,message:"",variant:"success",heading:"Exito"},i=Object(a.useState)(n),o=Object(y.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)([]),m=Object(y.a)(b,2),O=m[0],x=m[1],g=Object(a.useState)(!1),p=Object(y.a)(g,2),v=p[0],f=p[1],w=function(){var e=Object(k.a)(N.a.mark((function e(t){var c,a,r,i;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(n),f(!0),e.prev=2,e.next=5,P.dB.collection("productos").add({title:t.title,category:t.category,description:t.description,price:Number(t.price),stock:Number(t.stock),sku:t.sku});case 5:if(c=e.sent,void 0===O.type){e.next=18;break}return a=P.storage.ref("products/images").child(c.id),e.next=10,a.put(O);case 10:return e.next=12,a.getDownloadURL();case 12:return r=e.sent,e.next=15,P.dB.doc("productos/"+c.id).get();case 15:return i=e.sent,e.next=18,P.dB.doc("productos/"+c.id).set(Object(D.a)(Object(D.a)({},i.data()),{},{image:r}));case 18:s({}),d(Object(D.a)(Object(D.a)({},l),{},{show:!0,message:"El Producto se Guardo Correctamente."})),f(!1),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),f(!1),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"col-md-6 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)(B,{alert:l}),Object(h.jsx)("h3",{children:"Crear Producto"}),Object(h.jsx)("p",{children:"Complete los Datos"}),Object(h.jsxs)("form",{onSubmit:c(w),children:[Object(h.jsx)(V,{label:"Imagen",type:"file",register:Object(D.a)({},t("image",{onChange:function(e){return x(e.target.files[0])},validate:{validateSize:function(e){var t;return(null===(t=e[0])||void 0===t?void 0:t.size)<1e7||"Tama\xf1o Maximo 10MB"},validateFormats:function(e){var t;return["image/jpeg","image/png"].includes(null===(t=e[0])||void 0===t?void 0:t.type)||"Solo se Permiten los Formatos PNG y JPEG"}}})),errors:r}),Object(h.jsx)(V,{label:"SKU",type:"number",register:Object(D.a)({},t("sku",{required:"El SKU es ObligatoriO.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsx)(V,{label:"Titulo",register:Object(D.a)({},t("title",{required:"El Titulo es Obligatorio.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:r}),Object(h.jsx)(V,{select:!0,label:"Categoria",register:Object(D.a)({},t("category",{required:"El Apellido es Obligatorio."})),options:[{value:"computacion",text:"Computaci\xf3n"},{value:"gaming",text:"Gaming"}]}),Object(h.jsx)(V,{label:"Descripci\xf3n",register:Object(D.a)({},t("description",{required:"La Descripcion es Obligatoria.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:r}),Object(h.jsx)(V,{label:"Precio",type:"number",register:Object(D.a)({},t("price",{required:"El Precio es Obligatorio.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsx)(V,{label:"Stock",type:"number",register:Object(D.a)({},t("stock",{required:"El Stock es Obligatorio.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(J,{loading:v,type:"submit",variant:"success",size:"lg",children:" Guardar"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/admin/products",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"danger",size:"lg",children:" Cancelar"})})})]})]})]})})},re=function(){var e=Object(R.a)(),t=e.register,c=e.handleSubmit,r=e.formState.errors,s=e.setValue,n={show:!1,message:"",variant:"success",heading:"Exito"},i=Object(a.useState)(n),o=Object(y.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)({}),m=Object(y.a)(b,2),O=m[0],x=m[1],g=Object(a.useState)(),p=Object(y.a)(g,2),v=p[0],f=p[1],w=Object(a.useState)(!1),C=Object(y.a)(w,2),S=C[0],I=C[1],L=Object(A.m)().id,E=function(){var e=Object(k.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(n),I(!0),e.prev=2,void 0===O.type){e.next=12;break}return c=P.storage.ref("products/images").child(L),e.next=7,c.put(O);case 7:return e.t0=f,e.next=10,c.getDownloadURL();case 10:e.t1=e.sent,(0,e.t0)(e.t1);case 12:return e.next=14,P.dB.doc("productos/"+L).set({title:t.title,category:t.category,description:t.description,price:Number(t.price),image:v,stock:Number(t.stock),sku:t.sku});case 14:d(Object(D.a)(Object(D.a)({},l),{},{show:!0,message:"El Producto se Edito Correctamente."})),I(!1),e.next=22;break;case 18:e.prev=18,e.t2=e.catch(2),I(!1),console.log(e.t2);case 22:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.doc("productos/"+L).get();case 3:(t=e.sent).data()&&(s("title",t.data().title),s("price",t.data().price),s("category",t.data().category),s("description",t.data().description),s("sku",t.data().sku),s("stock",t.data().stock),f(t.data().image)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[L,s]),Object(h.jsx)("div",{className:"col-md-6 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)(B,{alert:l}),Object(h.jsx)("h3",{children:"Editar Producto"}),Object(h.jsx)("p",{children:"Complete los Datos"}),Object(h.jsxs)("form",{onSubmit:c(E),children:[Object(h.jsx)(V,{label:"Imagen",type:"file",register:Object(D.a)({},t("image",{onChange:function(e){return x(e.target.files[0])},validate:{validateSize:function(e){var t;return!e[0]||((null===(t=e[0])||void 0===t?void 0:t.size)<1e7||"Tama\xf1o Maximo 10MB")},validateFormats:function(e){var t;return!e[0]||(["image/jpeg","image/png"].includes(null===(t=e[0])||void 0===t?void 0:t.type)||"Solo se Permiten los Formatos PNG y JPEG")}}})),errors:r}),Object(h.jsx)(V,{label:"SKU",type:"number",register:Object(D.a)({},t("sku",{required:"El SKU es ObligatoriO.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsx)(V,{label:"Titulo",register:Object(D.a)({},t("title",{required:"El Titulo es Obligatorio.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:r}),Object(h.jsx)(V,{select:!0,label:"Categoria",register:Object(D.a)({},t("category",{required:"El Apellido es Obligatorio."})),options:[{value:"computacion",text:"Computaci\xf3n"},{value:"gaming",text:"Gaming"}]}),Object(h.jsx)(V,{label:"Descripci\xf3n",register:Object(D.a)({},t("description",{required:"La Descripcion es Obligatoria.",minLength:{value:3,message:"Debe Ingresar al Menos 3 Caracteres."}})),errors:r}),Object(h.jsx)(V,{label:"Precio",type:"number",register:Object(D.a)({},t("price",{required:"El Precio es Obligatoria.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsx)(V,{label:"Stock",type:"number",register:Object(D.a)({},t("stock",{required:"El Stock es Obligatorio.",min:{value:1,message:"Debe Ingresar un Valor Mayor a 0."}})),errors:r}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(J,{loading:S,type:"submit",variant:"success",size:"lg",children:" Guardar"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/admin/products",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"danger",size:"lg",children:" Cancelar"})})})]})]})]})})},se=function(){var e=Object(R.a)(),t=e.register,c=e.handleSubmit,r=e.setValue,s=Object(a.useState)(!1),n=Object(y.a)(s,2),i=n[0],o=n[1],l=Object(A.m)().id,d=Object(A.k)(),b=function(){var e=Object(k.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,P.dB.doc("productos/"+l).delete();case 4:d.push("/admin/products"),o(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),o(!1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=function(){var e=Object(k.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.dB.doc("productos/"+l).get();case 3:(t=e.sent).data()&&(r("title",t.data().title),r("price",t.data().price),r("category",t.data().category),r("sku",t.data().sku),r("stock",t.data().stock),r("description",t.data().description)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[l,r]),Object(h.jsx)("div",{className:"col-md-6 mx-auto",children:Object(h.jsxs)("div",{className:"card card-body bg-light mt-5",children:[Object(h.jsx)("h3",{children:"Borrar Producto"}),Object(h.jsx)(V,{label:"SKU",type:"number",register:Object(D.a)({},t("sku",{disabled:!0}))}),Object(h.jsxs)("form",{onSubmit:c(b),children:[Object(h.jsx)(V,{label:"Titulo",register:Object(D.a)({},t("title",{disabled:!0}))}),Object(h.jsx)(V,{select:!0,label:"Categoria",register:Object(D.a)({},t("category",{disabled:!0})),options:[{value:"computacion",text:"Computaci\xf3n"},{value:"gaming",text:"Gaming"}]}),Object(h.jsx)(V,{label:"Descripci\xf3n",register:Object(D.a)({},t("description",{disabled:!0}))}),Object(h.jsx)(V,{label:"Precio",type:"number",register:Object(D.a)({},t("price",{disabled:!0}))}),Object(h.jsx)(V,{label:"Stock",type:"number",register:Object(D.a)({},t("stock",{disabled:!0}))}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(J,{loading:i,type:"submit",variant:"success",size:"lg",children:" Borrar"})}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)(u.LinkContainer,{to:"/admin/products",children:Object(h.jsx)(j.a,{className:"btn-block",variant:"danger",size:"lg",children:" Cancelar"})})})]})]})]})})},ne=function(){return Object(h.jsxs)(A.g,{children:[Object(h.jsx)(A.d,{path:"/admin/products",component:ce}),Object(h.jsx)(A.d,{path:"/admin/product/create",component:ae}),Object(h.jsx)(A.d,{path:"/admin/product/edit/:id",component:re}),Object(h.jsx)(A.d,{path:"/admin/product/delete/:id",component:se}),Object(h.jsx)(te,{})]})},ie=function(e){var t=Object(a.useState)(localStorage.getItem("userIsLogin")),c=Object(y.a)(t,2),r=c[0],s=c[1],n=Object(a.useState)(JSON.parse(localStorage.getItem("userInfo"))),i=Object(y.a)(n,2),o=i[0],d=i[1];return Object(h.jsx)(l.Provider,{value:{userIsLogin:r,loginUser:function(e){localStorage.setItem("userIsLogin",!0),localStorage.setItem("userInfo",JSON.stringify(e)),s(!0),d(e)},logoutUser:function(){localStorage.removeItem("userIsLogin"),localStorage.removeItem("userInfo"),s(!1),d(!1)},userInfo:o},children:e.children})},oe=function(e){var t=function(){return null!==localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]},c=function(){return null!==localStorage.getItem("cartOrders")?JSON.parse(localStorage.getItem("cartOrders")):[]},r=Object(a.useState)(t),s=Object(y.a)(r,2),n=s[0],i=s[1],o=Object(a.useState)(0),l=Object(y.a)(o,2),d=l[0],j=l[1],b=Object(a.useState)(0),u=Object(y.a)(b,2),m=u[0],O=u[1],g=Object(a.useState)(c),p=Object(y.a)(g,2),v=p[0],f=p[1];Object(a.useEffect)((function(){N(),localStorage.setItem("cart",JSON.stringify(n)),localStorage.setItem("cartOrders",JSON.stringify(v)),k()}));var N=function(){var e=n.reduce((function(e,t){return e+t.quantity}),0);j(e)},k=function(){var e=n.reduce((function(e,t){return e+t.price*t.quantity}),0);O(e)};return Object(h.jsx)(x.Provider,{value:{addProductToCart:function(e){var t=n.find((function(t){return t.id===e.id}));if(void 0!==t){var c=n.findIndex((function(t){return t.id===e.id}));n.splice(c,1,{sku:e.sku,title:e.title,quantity:e.quantity+t.quantity,price:e.price,image:e.image,id:e.id,category:e.category})}else i([].concat(Object($.a)(n),[{sku:e.sku,title:e.title,quantity:e.quantity,price:e.price,image:e.image,id:e.id,category:e.category}]))},isInCart:function(e){return n.find((function(t){return t.id===e}))},cart:n,setCart:i,qtyProducts:d,updateQtyProducts:N,totalCartPay:m,deleteProduct:function(e){var t=n.filter((function(t){return t.id!==e}));i(t),localStorage.setItem("cart",JSON.stringify(t))},orderIds:v,setOrderIds:f,cartInLocal:t,cartOrdersInLocal:c},children:e.children})},le=function(){return Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsx)(ie,{children:Object(h.jsx)(oe,{children:Object(h.jsxs)(d.BrowserRouter,{children:[Object(h.jsx)(p,{}),Object(h.jsx)(A.g,{children:Object(h.jsx)(l.Consumer,{children:function(e){var t;return Object(h.jsxs)(h.Fragment,{children:[e.userIsLogin&&(null===(t=e.userInfo)||void 0===t?void 0:t.admin)&&Object(h.jsx)(ne,{}),!e.userIsLogin&&Object(h.jsx)(te,{})]})}})})]})})}),Object(h.jsx)(v,{})]})},de=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,106)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,n=t.getTTFB;c(e),a(e),r(e),s(e),n(e)}))};c(92),c(93);n.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(le,{})}),document.getElementById("root")),de()}},[[95,1,2]]]);
//# sourceMappingURL=main.be2adac2.chunk.js.map